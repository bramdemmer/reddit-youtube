!function(e){function t(t){for(var i,r,n=t[0],c=t[1],u=t[2],d=0,m=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(l&&l(t);m.length;)m.shift()();return o.push.apply(o,u||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,n=1;n<s.length;n++){var c=s[n];0!==a[c]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},a={0:0},o=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="dist/";var n=window.webpackJsonp=window.webpackJsonp||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var u=0;u<n.length;u++)t(n[u]);var l=c;o.push([155,1]),s()}({155:function(e,t,s){s(156),s(364),e.exports=s(365)},19:function(e){e.exports=JSON.parse('{"filterType":[{"name":"time","values":[{"value":"hour","text":"the past hour"},{"value":"day","text":"the past day"},{"value":"week","text":"the past week"},{"value":"month","text":"the past month"},{"value":"year","text":"the past year"},{"value":"all","text":"all time"}]},{"name":"sort","values":[{"value":"new","text":"new"},{"value":"hot","text":"hot"},{"value":"top","text":"top"},{"value":"controversial","text":"controversial"}]},{"name":"max","values":[{"value":25,"text":"25"},{"value":50,"text":"50"},{"value":100,"text":"100"}]}],"messages":{"failedRequest":"Error: failed to load videos from reddit.","invalidVideo":"The requested video is invalid. Loading next...","videoRemoved":"The current video is private or was removed by the author. Loading next...","selectAsubreddit":"Cannot create a new playlist. Select at least 1 subreddit and try again.","loadPlayer":"Youtube player is loading...","playerReady":"Playlist ready with selected subreddits."},"category":[{"name":"Weird Youtube Videos","isActive":true,"subreddits":["weirdyoutubechannels","deepintoyoutube","weirdtube"]},{"name":"Classical","isActive":true,"subreddits":["composer","baroque","classicalmusic","contemporary","concertband","choralmusic","chambermusic","earlymusic","earlymusicalnotation","elitistclassical","icm","opera","orchestra"]},{"name":"Electronic","isActive":true,"subreddits":["acidhouse","ambientmusic","astateoftrance","atmosphericdnb","bigbeat","boogiemusic","breakbeat","breakcore","chicagohouse","chillout","chipbreak","chiptunes","complextro","cxd","darkstep","deephouse","dnb","dubstep","ebm","edm","electrohiphop","electrohouse","electronicblues","electronicdancemusic","electronicjazz","electronicmagic","electronicmusic","electropop","electroswing","experimentalmusic","fidget","filth","frenchelectro","frenchhouse","funkhouse","fusiondancemusic","futurebeats","futurefunkairlines","futuregarage","futuresynth","gabber","glitch","glitchop","grime","happyhardcore","hardhouse","hardstyle","house","idm","industrialmusic","italodisco","latinhouse","liquiddubstep","mashups","melodichouse","minimal","mixes","moombahcore","nightstep","oldskoolrave","outrun","partymusic","plunderphonics","psybient","psybreaks","psytrance","purplemusic","raggajungle","realdubstep","skweee","swinghouse","tech_house","techno","theoverload","trance","tranceandbass","trap","tribalbeats","tropicalhouse","ukfunky","witchhouse","wuub"]},{"name":"Bands","isActive":true,"subreddits":["80shardcorepunk","90salternative","90spunk","90srock","alternativerock","altcountry","aormelodic","ausmetal","blackmetal","bluegrass","blues","bluesrock","boneyard","canadianclassicrock","canadianmusic","classicrock","country","christcore","crunkcore","deathcore","deathmetal","djent","doommetal","drone","emo","emoscreamo","epicmetal","flocked","folk","folkmetal","folkpunk","folkrock","folkunknown","garagepunk","gothicmetal","grunge","hardcore","hardrock","horrorpunk","indie_rock","jrock","krautrock","ladiesofmetal","mathrock","melodicdeathmetal","melodicmetal","metalnews","metalmusic","metal","metalcore","modernrockmusic","monsterfuzz","neopsychedelia","newwave","noiserock","numetal","pianorock","poppunkers","posthardcore","postrock","powermetal","powerpop","progmetal","progrockmusic","psychedelicrock","punk","punkskahardcore","punk_rock","raprock","rock","shoegaze","stonerrock","symphonicblackmetal","symphonicmetal","synthrock","throwbackcore","truethrash","truemetal","outlawcountry","womenrock"]},{"name":"Hip Hop & Rap","isActive":true,"subreddits":["80shiphop","90shiphop","altrap","asianrap","backpacker","backspin","bayrap","chaphop","chiefkeef","drillandbop","emo_trap","gfunk","hiphopheads","hiphopheadsnorthwest","hiphop101","memphisrap","nyrap","rap","raprock","rapverses","rhymesandbeats","trapmuzik","ukhiphopheads","undergroundchicago","lofihiphop"]},{"name":"Decades","isActive":true,"subreddits":["2010smusic","2000smusic","90smusic","80sremixes","80smusic","70smusic","60smusic","50smusic"]},{"name":"By country & culture","isActive":true,"subreddits":["africanmusic","afrobeat","balkanbrass","balkanmusic","brazilianmusic","britpop","croatianmusic","flamenco","irishmusic","italianmusic","jpop","koreanrock","kpop","romusic","spop","somluso","ukbands","worldmusic"]},{"name":"Other","isActive":true,"subreddits":["70s","acappella","acousticcovers","ambientfolk","animemusic","bestofdisney","boomswing","bossanova","carmusic","concerts","chillmusic","cpop","complextro","dembow","disco","dreampop","dub","elephant6","etimusic","exotica","filmmusic","funksoumusic","gamemusic","gamesmusicmixmash","gunslingermusic","gypsyjazz","indiefolk","jambands","jazz","jazzfusion","jazzinfluence","listentoconcerts","klezmer","lt10k","medievalmusic","melancholymusic","minimalism_music","motown","musicforconcentration","muzyka","nudisco","oldiemusic","oldiesmusic","pianocovers","popheads","poptorock","quietstorm","rainymood","recordstorefinds","reggae","remixxd","retromusic","rnb","rootsmusic","salsamusic","ska","soca","songbooks","soulies","souldivas","soundsvintage","spacemusic","surfpunk","swing","tango","therealbookvideos","touhoumusic","traditionalmusic","treemusic","triphop","vaporwave","vintageobscura","vocaloid"]},{"name":"Any genre, collections & random","isActive":true,"subreddits":["audioinsurrection","albumaday","albumoftheday","albums","albumlisteners","bassheavy","binauralmusic","boybands","catchysongs","chopping","circlemusic","coversongs","cyberpunk_music","danceparty","danktunes","deepcuts","earlymusic","earlymusicalnotation","femalevocalists","festivals","findaband","fittunes","freealbums","freemusic","frisson","gameofbands","gaymusic","germusic","gethightothis","guiltypleasuremusic","headnodders","heady","heythatwasin","highfidelity","ifyoulikeblank","ilikethissong","indie","indiewok","indieheads","instrumentals","ipm","isolatedvocals","leehallmusic","letstalkmusic","listentoconcerts","listentodynamic","listentomusic","listentonews","listentothis","listentous","livemusic","llawenyddhebddiwedd","longerjams","lyrics","mainstreammusic","makemeaplaylist","middleeasternmusic","mlptunes","music","musicalbums","musicsuggestions","musictosleepto","musicvideos","namethatsong","newalbums","newmusic","onealbumaweek","partymusic","redditoriginals","republicofmusic","royaltyfreemusic","runningmusic","scottishmusic","slavicmusicvideos","songwriterscircle","spotifymusic","themvoices","todaysfavoritesong","unheardof","whatilistento","wtfmusicvideos","pirateradio","turntablists"]},{"name":"Redditor-made music","isActive":true,"subreddits":["300songs","acousticoriginals","bedroombands","composer","icoveredasong","independentmusic","musiccritique","musicinthemaking","mymusic","radioreddit","roastmytrack","ratemyband","songwriters","theseareouralbums","thisisourmusic","userproduced","wereonspotify","whitelabels"]},{"name":"Instruments","isActive":true,"subreddits":["accordion","banjo","bass","bassplaying","bassoon","beatbox","brass","cello","clarinet","classicalguitar","concertina","doublebass","drummers","drums","flute","guitar","guitarplaying","hammondorgan","handpan","harmonica","horn","keys","luthier","mandolin","oboe","ocarina","percussion","percussionists","piano","piccolo","playingguitar","recorder","saxophone","saxophonics","singing","synthesizers","telecaster","trombone","trumpet","tuba","ukulele","viola","violinist"]},{"name":"Learning","isActive":true,"subreddits":["abletonclass","bandmembers","basslessons","earlymusicalnotation","ethnomusicology","explainthissong","guitarlessons","learnmusic","musiced","musicindustry","musicinstructor","musicology","musictheory","solresol","tabs"]}]}')},365:function(e,t,s){"use strict";s.r(t),s(123),s(125),s(121),s(128),s(63),s(129),s(131),s(120),s(118),s(140),s(133),s(97),s(150),s(152),s(366);var i=s(103),a=s.n(i),o=s(19);function r(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(new(function(){function e(){!function(t,s){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.defaultFilters={sort:"hot",time:"day",limit:"100"},this.subreddits=null,this.jsonData=o,this.navButtons=document.querySelectorAll(".toggle-subreddits"),this.resetButton=document.querySelector(".reset-button"),this.selectEverything=document.querySelector(".select-everything")}return function(e,t,s){t&&r(e.prototype,t),s&&r(e,s)}(e,[{key:"init",value:function(){var t=this;this.createSubredditList(),this.createFilters(),this.filter=this.defaultFilters,this.subreddits=this.getRandomSubreddits(3),this.getRedditData().then(function(s){t.initYoutubePlayer(t.getYoutubeVideos(s)),e.loadMessage("Randomly selected three subreddits: <br> <strong>".concat(t.subreddits.join(", "),"</strong>."))}).catch(function(t){e.loadMessage(o.messages.failedRequest)}),this.initFilters(),this.resetButton.addEventListener("click",function(){var s=document.querySelectorAll(".subreddits__checkbox");Array.from(s).forEach(function(e){e.checked=!1}),t.subreddits=t.getRandomSubreddits(3),t.getRedditData().then(function(s){var i=t.getYoutubeVideos(s);t.player.cuePlaylist(i),e.loadMessage("Randomly selected three subreddits: <br> <strong>".concat(t.subreddits.join(", "),"</strong>."))}).catch(function(t){e.loadMessage(o.messages.failedRequest)})}),this.selectEverything.addEventListener("click",function(){var e=document.querySelectorAll(".subreddits__checkbox");Array.from(e).forEach(function(e){e.checked=!0}),t.reloadAllSubreddits()}),Array.from(this.navButtons).forEach(function(e){e.addEventListener("click",function(){document.querySelector(".subreddits-nav").classList.toggle("is-visible")})}),this.allsubreddits=document.querySelectorAll(".subreddits__checkbox"),this.isChecked=[],Array.from(this.allsubreddits).forEach(function(e){e.addEventListener("change",function(){t.reloadAllSubreddits()})}),document.querySelectorAll(".subreddits__select-all").forEach(function(e){e.addEventListener("click",function(){var s=e.parentElement.querySelectorAll(".subreddits__checkbox");0<Array.from(s).filter(function(e){return!1===e.checked}).length?s.forEach(function(e){e.checked=!0}):s.forEach(function(e){e.checked=!1}),t.reloadAllSubreddits()})})}},{key:"createSubredditList",value:function(){var e=this;o.category.forEach(function(t,s){e.htmlcategory='<section clas="subreddits__category">\n      <h3>'.concat(t.name,'</h3>\n      <input id="select-all-cat-').concat(s,'" class="subreddits__select-all" type="checkbox"\n      value="select-all-cat-').concat(s,'">\n      <label for="select-all-cat-').concat(s,'">Toggle all ').concat(t.name,'</label>\n      <ul class="subreddits__category-list-').concat(s,'">\n\n      </ul>\n      </section>'),document.querySelector(".subreddits").insertAdjacentHTML("beforeend",e.htmlcategory),t.subreddits.forEach(function(t){e.htmlcategorylist='<li><input id="r-'.concat(t,'" class="subreddits__checkbox"\n    type="checkbox" value="').concat(t,'">\n          <label for="r-').concat(t,'">').concat(t,"</label>\n        </li>"),document.querySelector(".subreddits__category-list-".concat(s)).insertAdjacentHTML("beforeend",e.htmlcategorylist)})})}},{key:"getRandomSubreddits",value:function(e){for(var t=[],s=0;s<e;s+=1){var i=this.jsonData.category[Math.floor(Math.random()*this.jsonData.category.length)],a=i.subreddits[Math.floor(Math.random()*i.subreddits.length)];t.push(a)}return t}},{key:"reloadAllSubreddits",value:function(){var t=this;this.isChecked=Array.from(this.allsubreddits).filter(function(e){return e.checked}),0===this.isChecked.length?e.loadMessage(o.messages.selectAsubreddit):(this.subreddits=[],this.isChecked.forEach(function(e){t.subreddits.push(e.getAttribute("value"))}),this.getRedditData().then(function(s){var i=t.getYoutubeVideos(s);t.player.cuePlaylist(i),e.loadMessage(o.messages.playerReady)}).catch(function(t){e.loadMessage(o.messages.failedRequest)}))}},{key:"getYoutubeVideos",value:function(e){var t=this;return this.videoIDs=[],e.filter(function(e){return null!==e.data.media&&e.data.media.type&&e.data.media.type.includes("youtube")}).forEach(function(e){a()(e.data.url).id&&t.videoIDs.push(a()(e.data.url).id.substring(0,11))}),this.videoIDs}},{key:"getRedditData",value:function(){return this.redditUrl="https://www.reddit.com/r/".concat(this.subreddits.join("+"),"/").concat(this.filter.sort,"/.json?limit=").concat(this.filter.limit,"&t=").concat(this.filter.time),fetch(this.redditUrl).then(function(e){return e.json()}).then(function(e){return e.data.children}).catch(function(t){e.loadMessage(o.messages.failedRequest)})}},{key:"initYoutubePlayer",value:function(t){var s=this;e.loadMessage(o.messages.loadPlayer),this.player=null;var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(i,a),window.onYouTubeIframeAPIReady=function(){s.player=new YT.Player("player",{height:"360",width:"560",playerVars:{modestbranding:1},events:{onReady:s.onPlayerReady,onError:s.onPlayerError}})},this.onPlayerReady=function(){s.player.cuePlaylist(t)},this.onPlayerError=function(t){2===t.data||5===t.data?e.loadMessage(o.messages.invalidVideo):e.loadMessage(o.messages.videoRemoved),s.player.nextVideo()}}},{key:"createFilters",value:function(){var e=this;o.filterType.forEach(function(t){e.htmlfilter='<label for="'.concat(t.name,'-filter">').concat(t.name,'</label>\n      <select id="').concat(t.name,'-filter" class="filter-select filter-select--').concat(t.name,'">\n        <option data-filter="none" value="none" disabled selected>Select your option</option>\n      </select>'),document.querySelector(".filter-block").insertAdjacentHTML("afterbegin",e.htmlfilter),t.values.forEach(function(s){e.filterTypelist='<option class="filter__option"\n          data-filter="'.concat(t.name,'"\n          value="').concat(s.value,'">').concat(s.text,"</option>"),document.querySelector(".filter-select").insertAdjacentHTML("beforeend",e.filterTypelist)})})}},{key:"initFilters",value:function(){var t=this,s=document.querySelectorAll(".filter-select");Array.from(s).forEach(function(s){s.addEventListener("change",function(){var i=s.options[s.selectedIndex];"none"!==i.value&&(t.filter[i.getAttribute("data-filter")]=i.value,t.getRedditData().then(function(e){var s=t.getYoutubeVideos(e);t.player.cuePlaylist(s)}).catch(function(t){e.loadMessage(o.messages.failedRequest)}))})})}}],[{key:"loadMessage",value:function(e,t){var s=1<arguments.length&&void 0!==t?t:8e3,i=document.querySelector(".message");i.innerHTML=e,i.classList.add("is-visible");var a=setTimeout(function(){i.classList.remove("is-visible"),clearTimeout(a)},s)}}]),e}())).init()},366:function(e,t,s){}});